<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-MWN38YFFG1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-MWN38YFFG1');
</script>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>WaterWise</title>
  <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Georgia', sans-serif;
      padding-top: 56px;
      background-color: #f0f8ff;
      color: #333;
    }
    .navbar {
      background-color: #004080;
    }
    .navbar-brand, .nav-link {
      color: #fff !important;
    }
    .navbar-brand:hover, .nav-link:hover {
      color: #cce0ff !important;
    }
    section {
      padding: 60px 0;
    }
    #home {
      background-color: #cce0ff;
    }
    #resources {
      background-color: #99ccff;
    }
    #contact {
      background-color: #66b2ff;
    }
    .score {
      font-size: 2em;
      font-weight: bold;
      color: #0066cc;
    }
    .section-title {
      margin-bottom: 40px;
      font-size: 2.5em;
      font-weight: bold;
      color: #003366;
    }
    .quick-tips ul {
      list-style-type: none;
      padding-left: 0;
    }
    .quick-tips ul li {
      background: #004080;
      color: #fff;
      padding: 10px;
      margin: 5px 0;
      border-radius: 5px;
    }
    .resource-links a {
      color: #004080;
      text-decoration: none;
    }
    .resource-links a:hover {
      text-decoration: underline;
    }
    .btn-primary {
      background-color: #004080;
      border: none;
    }
    .btn-primary:hover {
      background-color: #003366;
    }
    .form-control:focus {
      border-color: #004080;
      box-shadow: none;
    }
    .calculator-container, .background-box {
      background: #e6f2ff;
      border-radius: 10px;
      padding: 20px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
      margin-bottom: 20px;
    }
  </style>
</head>
<body>

  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg fixed-top">
    <a class="navbar-brand" href="#">WaterWise</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav ml-auto">
        <li class="nav-item">
          <a class="nav-link" href="#home">Home</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#resources">Resources</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#nonprofits">Non-Profits</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#contact">Contact</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://waterwise-wateruseconsultant-chat.vercel.app/">Chat Support</a>
        </li>
      </ul>
    </div>
  </nav>

  <!-- Home Section -->
  <section id="home">
    <div class="container">
      <div class="row">
        <div class="col-md-12 text-center">
          <h1 class="section-title">Welcome to WaterWise</h1>
          <p class="background-box">Track your daily water consumption and learn how to conserve water efficiently!</p>
        </div>
      </div>
      <div class="row">
        <div class="col-md-12 text-center">
          <img src="image/waterwiselogo.png" height="1000" width="500" class="img-fluid my-4" alt="Water Conservation">
        </div>
      </div>
      <div class="row">
        <div class="col-md-12">
          <div class="calculator-container">
            <h2>Track Your Water Intake</h2>
            <form id="waterIntakeForm">
              <div class="form-row">
                <div class="form-group col-md-6">
                  <label for="date">Date</label>
                  <input type="date" class="form-control" id="date" required>
                </div>

                <div class="form-group col-md-6">
                  <label for="consumptionType">Type of Consumption</label>
                  <select class="form-control" id="consumptionType">
                    <option selected>Select type</option>
                    <option value="drinking">Drinking</option>
                    <option value="showering">Shower</option>
                    <option value="washing_cycle">Washing Machine</option>
                    <option value="toilet_flushes">Toilet</option>
                    <option value="bathing">Bath</option>
                    <option value="dishes">Dishwasher</option>
                  </select>
                </div>
              </div>
              <div class="form-row">
                <div class="form-group col-md-6">
                  <label for="measurementType">Measurement Type</label>
                  <select class="form-control" id="measurementType">
                    <option value="cups">Cups</option>
                    <option value="minutes">Minutes</option>
                    <option value="flushes">Flushes</option>
                  </select>
                </div>
                <div class="form-group col-md-6" id="waterInputGroup">
                  <label for="waterConsumed">Total Cups Consumed</label>
                  <input type="number" class="form-control" id="waterConsumed" placeholder="Enter cups">
                </div>
                <div class="form-group col-md-6" id="timeInputGroup" style="display: none;">
                  <label for="timeSpent">Total Minutes Spent</label>
                  <input type="number" class="form-control" id="timeSpent" placeholder="Enter minutes">
                </div>
                <div class="form-group col-md-6" id="flushesInputGroup" style="display: none;">
                  <label for="flushesUsed">Total Flushes Used</label>
                  <input type="number" class="form-control" id="flushesUsed" placeholder="Enter number of flushes">
                </div>
              </div>
              <button type="submit" class="btn btn-primary">Submit</button>
              <button type="button" id="resetButton" class="btn btn-secondary">Reset</button>
            </form>

            <!-- Water Usage Score Display -->
            <div class="my-5">
              <h2>Your Water Usage Score in Gallons</h2>
              <p id="usageScore" class="score">Your score will appear here</p>
              <p id="scoreExplanation"></p>
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-md-12">
          <div class="background-box">
            <h3>Quick Tips for Water Conservation</h3>
            <ul class="quick-tips">
              <li>Take shorter showers - aim for 5 minutes or less.</li>
              <li>Fix leaks in faucets and toilets promptly to avoid wasting water.</li>
              <li>Use a broom instead of a hose to clean driveways and sidewalks.</li>
              <li>Collect rainwater for watering plants and gardens.</li>
              <li>Install water-saving showerheads and faucet aerators.</li>
              <li>Run dishwashers and washing machines only with full loads.</li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </section>


  <!-- Resources Section -->
  <section id="resources">
    <div class="container">
      <h2 class="section-title text-center">Resources</h2>
      <h3>Articles on Water Conservation</h3>
      <ul class="resource-links">
        <li><a href="https://www.americanrivers.org/rivers/discover-your-river/top-10-ways-for-you-to-save-water-at-home/">How to Save Water at Home</a></li>
        <li><a href="https://earth.org/understanding-the-importance-of-water-conservation/">The Importance of Water Conservation</a></li>
      </ul>
      <h3>Interactive Tools</h3>
      <ul class="resource-links">
        <li><a href="https://watercalculator.org/">Water Calculator</a></li>
        <li><a href="https://www.anglianwater.co.uk/help-and-advice/save-water/water-saving-tips/water-saving-quiz/">Conservation Tips Quiz</a></li>
      </ul>
      <h3>External Links</h3>
      <ul class="resource-links">
        <li><a href="https://www.epa.gov/watersense">EPA WaterSense</a></li>
        <li><a href="https://www.worldwildlife.org/initiatives/freshwater">WWF Water Conservation</a></li>
      </ul>
    </div>
  </section>

  <section id="nonprofits">
    <div class="container">
      <h2 class="section-title text-center">Support Water-Saving Non-Profits</h2>
      <p class="text-center">Discover and support organizations dedicated to water conservation and sustainability.</p>
      <div class="row">
        <div class="col-md-4 text-center">
          <div class="background-box">
            <h3>Charity: Water</h3>
            <p>Charity: Water provides clean and safe drinking water to people in developing countries.</p>
            <a href="https://www.charitywater.org" class="btn btn-primary">Learn More</a>
          </div>
        </div>
        <div class="col-md-4 text-center">
          <div class="background-box">
            <h3>Water.org</h3>
            <p>Water.org empowers families with access to safe water and sanitation through affordable financing.</p>
            <a href="https://www.water.org" class="btn btn-primary">Learn More</a>
          </div>
        </div>
        <div class="col-md-4 text-center">
          <div class="background-box">
            <h3>The Water Project</h3>
            <p>The Water Project helps communities in Sub-Saharan Africa access clean water through sustainable projects.</p>
            <a href="https://thewaterproject.org" class="btn btn-primary">Learn More</a>
          </div>
        </div>
      </div>
    </div>
  </section>



  <!-- Contact Section -->
  <section id="contact">
    <div class="container">
      <div class="row">
        <div class="col-md-12 text-center">
          <h3 class="section-title">Leave us some feedback!</h3>
        </div>
      </div>
      <div class="row">
        <div class="col-md-12">
          <div class="background-box">

            <form id="contactForm" action="https://formspree.io/f/xwpelqqw" method="POST">
              <input type="hidden" name="_cc" value="ydolkarj@gmail.com">
              <input type="hidden" name="_cc" value="rbah@macalester.edu">
              <input type="hidden" name="_cc" value="wacostal@macalester.edu">

              <div class="form-row">
                <div class="form-group col-md-6">
                  <label for="name">Name</label>
                  <input type="text" class="form-control" id="name" name="Name" placeholder="Enter your name" required>
                </div>
                <!-- <div class="form-group col-md-6">
                  <label for="email">Email</label>
                  <input type="email" class="form-control" id="email" name="email" placeholder="Enter your email" required>
                </div> -->
              </div>
              <div class="form-group">
                <label for="message">Message</label>
                <textarea class="form-control" id="message" name="Message" rows="5" placeholder="Enter your message" required></textarea>
              </div>
              <button type="submit" class="btn btn-primary">Send</button>
            </form>
          </div>
        </div>
      </div>
    </div>
  </section>

  <script>
    document.addEventListener('DOMContentLoaded', function () {
      var contactForm = document.getElementById('contactForm');
  
      contactForm.addEventListener('submit', function (e) {
        e.preventDefault();
  
        var formData = new FormData(contactForm);
  
        fetch(contactForm.action, {
          method: 'POST',
          body: formData,
          headers: {
            'Accept': 'application/json'
          }
        }).then(response => {
          if (response.ok) {
            alert('Thank you for your message. It has been sent.');
            contactForm.reset();
          } else {
            response.json().then(data => {
              if (Object.hasOwn(data, 'errors')) {
                alert(data["errors"].map(error => error["message"]).join(", "));
              } else {
                alert('Oops! There was a problem submitting your form.');
              }
            });
          }
        }).catch(error => {
          alert('Oops! There was a problem submitting your form.');
        });
      });
    });
  </script>


<script>
  document.addEventListener('DOMContentLoaded', function () {
    var consumptionTypeSelect = document.getElementById('consumptionType');
    var measurementTypeSelect = document.getElementById('measurementType');

    var waterInputGroup = document.getElementById('waterInputGroup');
    var timeInputGroup = document.getElementById('timeInputGroup');
    var flushesInputGroup = document.getElementById('flushesInputGroup');

    var waterConsumedLabel = document.querySelector('label[for="waterConsumed"]');
    var waterConsumedInput = document.getElementById('waterConsumed');

    var timeSpentInput = document.getElementById('timeSpent');
    var flushesUsedInput = document.getElementById('flushesUsed');

    var form = document.getElementById('waterIntakeForm');

    var usageScoreDisplay = document.getElementById('usageScore');
    var scoreExplanationDisplay = document.getElementById('scoreExplanation');

    // Retrieve the total score from localStorage or initialize it to 0
    var totalWaterUsed = parseFloat(localStorage.getItem('totalWaterUsed')) || 0;

    // Display the initial cumulative score
    usageScoreDisplay.textContent = 'Total Water Used ≈ ' + totalWaterUsed.toFixed(2) + ' gallons';

    consumptionTypeSelect.addEventListener('change', function () {
      if (this.value === 'drinking') {
        measurementTypeSelect.style.display = 'block';
        measurementTypeSelect.value = 'cups';

        waterConsumedLabel.textContent = 'Total Cups Consumed';
        waterConsumedInput.placeholder = 'Enter cups';
        waterInputGroup.style.display = 'block';
        timeInputGroup.style.display = 'none';
        flushesInputGroup.style.display = 'none';

      } else if(this.value === 'toilet_flushes'){
        measurementTypeSelect.style.display = 'block';
        measurementTypeSelect.value = 'flushes';

        waterConsumedLabel.textContent = 'Total Number of Flushes';
        flushesUsedInput.placeholder = 'Enter number of flushes';
        waterInputGroup.style.display = 'none';
        timeInputGroup.style.display = 'none';
        flushesInputGroup.style.display = 'block';

      } else {
        measurementTypeSelect.style.display = 'block';
        measurementTypeSelect.value = 'minutes';

        waterConsumedLabel.textContent = 'Total Minutes Spent';
        waterConsumedInput.placeholder = 'Enter minutes';
        waterInputGroup.style.display = 'none';
        timeInputGroup.style.display = 'block';
        flushesInputGroup.style.display = 'none';
      }
    });

    form.addEventListener('submit', function (e) {
      e.preventDefault();
      var consumptionType = consumptionTypeSelect.value;
      var measurementType = measurementTypeSelect.value;
      var waterConsumed = parseFloat(document.getElementById('waterConsumed').value) || 0;
      var timeSpent = parseFloat(document.getElementById('timeSpent').value) || 0;
      var flushesUsed = parseFloat(flushesUsedInput.value) || 0;

      var currentWaterUsed = 0;

      if (consumptionType === 'toilet_flushes') {
        currentWaterUsed = flushesUsed * 1.6; // each flush uses 1.6 gallons
      } else if (measurementType === 'minutes') {
        if (consumptionType === 'showering') {
          currentWaterUsed = timeSpent * 2.3; // each minute of showering uses 2.3 gallons
        } else if (consumptionType === 'washing_cycle') {
          currentWaterUsed = timeSpent * 0.3 // each minute of washing cycle uses 0.3 gallons
        } else if (consumptionType === 'bathing') {
          currentWaterUsed = 40; 
        } else if (consumptionType === 'dishes') {
          currentWaterUsed = 5; // each cycle of washing dishes uses around 5 gallons

        }
      } else {
        currentWaterUsed = waterConsumed * 0.0625; // convert cups to gallons
      }

      // Update the total water used
      totalWaterUsed += currentWaterUsed;

      // Save the updated total water used to localStorage
      localStorage.setItem('totalWaterUsed', totalWaterUsed);

      // Calculate usage score
      // var usageScore = calculateUsageScore(consumptionType, currentWaterUsed, measurementType === 'minutes');
      
      // Update the display
      usageScoreDisplay.textContent = 'Total Water Used ≈ ' + totalWaterUsed.toFixed(2) + ' gallons';
      scoreExplanationDisplay.textContent = getScoreExplanation(totalWaterUsed);
      
      // Reset form
      form.reset();
    });

    function calculateUsageScore(type, amount, isTime = false) {
      var score;
      if (isTime) {
        switch (type) {
          case 'showering':
          case 'washing_cycle':
            score = amount <= 30 ? 10 : amount <= 50 ? 8 : amount <= 70 ? 6 : 4;
            break;
          default:
            score = 0;
        }
      } else {
        switch (type) {
          case 'drinking':
          case 'toilet_flushes':
            score = amount <= 30 ? 10 : amount <= 50 ? 8 : amount <= 70 ? 6 : 4;
            break;
          default:
            score = 0;
        }
      }
      return score;
    }

    // Reset all the inputs

    resetButton.addEventListener('click', function () {
      // Reset the total water used
      totalWaterUsed = 0;
      localStorage.setItem('totalWaterUsed', totalWaterUsed);

      // Update the display
      usageScoreDisplay.textContent = 'Total Water Used ≈ 0 gallons';
      scoreExplanationDisplay.textContent = '';

      // Reset form
      form.reset();
    });

    function getScoreExplanation(totalWaterUsed) {
      if (totalWaterUsed < 60) {
        return 'Excellent! You are a water-saving champion!';
      } else if (totalWaterUsed >= 60 && totalWaterUsed < 80) {
        return 'Good job! You are using water wisely :D';
      } else if (totalWaterUsed >= 80 && totalWaterUsed < 100) {
        return 'Not bad, but there is room for improvement :)';
      } else {
        return "Let's try conserving more water!";
      }
    }
  });
</script>

  
</body>
</html>
